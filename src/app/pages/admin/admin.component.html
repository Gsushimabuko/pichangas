<div class="admin-container">
  <h1>Panel de Administraci√≥n</h1>

  <section class="section">
    <h2>Jugadores</h2>
    <div class="add-form">
      <input [(ngModel)]="newPlayerName" placeholder="Nombre del jugador" />
      <button (click)="addPlayer()">Agregar Jugador</button>
    </div>
    <ul class="list">
      <li *ngFor="let player of players">
        {{ player.name }}
        <button (click)="deletePlayer(player.id)">Eliminar</button>
      </li>
    </ul>
  </section>

  <section class="section">
    <h2>Crear Partido</h2>
    <div class="add-form">
      <input [(ngModel)]="newMatchName" placeholder="Nombre del partido" />
      <input [(ngModel)]="newMatchDate" type="datetime-local" />
      <button (click)="createMatch()">Crear Partido</button>
    </div>
  </section>

  <section class="section">
    <h2>Editar Partido</h2>
    <div class="select-match">
      <label>Seleccionar partido para editar:</label>
      <select [(ngModel)]="selectedMatchId">
        <option [ngValue]="null">-- Seleccionar partido --</option>
        <option *ngFor="let match of matches" [ngValue]="match.id">{{ match.name }}</option>
      </select>
    </div>
    <div *ngIf="selectedMatchId && getMatch(selectedMatchId) as match" class="match-item">
      <h3>{{ match.name }}</h3>
      <p>Fecha: {{ match.date | date:'medium' }}</p>
      <div class="teams">
        <div>
          <h4>Equipo A</h4>
          <ul>
            <li *ngFor="let id of match.teams.teamA">{{ getPlayerName(id) }} <button (click)="removePlayerFromTeam(id, 'A')">Eliminar</button></li>
          </ul>
        </div>
        <div>
          <h4>Equipo B</h4>
          <ul>
            <li *ngFor="let id of match.teams.teamB">{{ getPlayerName(id) }} <button (click)="removePlayerFromTeam(id, 'B')">Eliminar</button></li>
          </ul>
        </div>
      </div>
      <div class="controls">
        <select [(ngModel)]="selectedPlayerToAdd">
          <option [ngValue]="null">Seleccionar jugador</option>
          <option *ngFor="let player of players" [ngValue]="player.id">{{ player.name }}</option>
        </select>
        <select [(ngModel)]="selectedTeam">
          <option [ngValue]="null">Equipo</option>
          <option value="A">A</option>
          <option value="B">B</option>
        </select>
        <button (click)="addPlayerToTeam()" [disabled]="!selectedPlayerToAdd || !selectedTeam">Agregar a Equipo</button>
      </div>
      <div class="winner">
        <select [(ngModel)]="selectedWinnerTeam">
          <option [ngValue]="null">Seleccionar ganador</option>
          <option value="A">Equipo A</option>
          <option value="B">Equipo B</option>
        </select>
        <button (click)="setWinner()" [disabled]="!selectedWinnerTeam">Establecer Ganador</button>
      </div>
      <button (click)="deleteMatch(match.id)" class="delete">Eliminar Partido</button>
    </div>
  </section>
</div>
